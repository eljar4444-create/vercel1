export const BEAUTY_SERVICES = {
    "Волосы": {
        "Стрижки и укладки": [
            "Женская стрижка", "Мужская стрижка", "Детская стрижка",
            "Стрижка челки", "Дневная укладка", "Вечерняя/Свадебная прическа",
            "Плетение кос", "Локоны / Накрутка"
        ],
        "Окрашивание": [
            "Окрашивание в один тон", "Окрашивание корней", "Сложное окрашивание (Airtouch, Балаяж, Шатуш)",
            "Мелирование", "Томирование", "Осветление (Total Blonde)", "Выход из черного"
        ],
        "Уход и восстановление": [
            "Кератиновое выпрямление", "Ботокс для волос", "Нанопластика",
            "Счастье для волос (LEBEL)", "Пилинг кожи головы", "Ламинирование волос"
        ],
        "Наращивание": [
            "Капсульное наращивание", "Ленточное наращивание", "Снятие / Коррекция волос"
        ]
    },
    "Ногти": {
        "Маникюр": [
            "Аппаратный маникюр", "Комбинированный маникюр", "Пилочный маникюр",
            "Маникюр + Гель-лак", "Укрепление гелем/акригелем", "Мужской маникюр", "Японский маникюр"
        ],
        "Педикюр": [
            "Аппаратный педикюр", "Педикюр + Гель-лак", "Кислотный педикюр",
            "Обработка только пальцев", "Обработка стоп (Smart)", "Медицинский педикюр (Подология)"
        ],
        "Дизайн и Наращивание": [
            "Наращивание ногтей (формы/гелевые типи)", "Коррекция наращивания", "Френч / Лунный дизайн",
            "Художественная роспись", "Стемпинг / Втирка", "Ремонт одного ногтя"
        ]
    },
    "Лицо (Брови и Ресницы)": {
        "Брови": [
            "Архитектура и коррекция бровей", "Окрашивание (хна/краска)", "Долговременная укладка (ламинирование)",
            "Осветление бровей", "Мужская коррекция бровей"
        ],
        "Ресницы": [
            "Классическое наращивание", "Наращивание 2D / 3D", "Наращивание Голливуд / Мега-объем",
            "Ламинирование ресниц", "Ботокс для ресниц", "Снятие ресниц"
        ],
        "Перманентный макияж": [
            "Пудровое напыление бровей", "Губы в акварельной технике", "Межресничка", "Удаление ремувером"
        ]
    },
    "Тело и Массаж": {
        "Массаж": [
            "Классический общий массаж", "Спортивный массаж", "Лимфодренажный массаж",
            "Массаж спины и шейно-воротниковой зоны", "Массаж лица", "Тайский массаж"
        ],
        "Коррекция фигуры": [
            "Антицеллюлитный массаж", "LPG-массаж", "Обертывания", "Кавитация / RF-лифтинг"
        ],
        "Эпиляция и Депиляция": [
            "Шугаринг (сахарная паста)", "Восковая депиляция (ваксинг)", "Лазерная эпиляция", "Электроэпиляция"
        ]
    },
    "Макияж и Стиль": {
        "Макияж": [
            "Дневной макияж", "Вечерний макияж", "Свадебный макияж",
            "Макияж для фотосессии", "Экспресс-макияж"
        ]
    }
} as const;

export const BEAUTY_SERVICE_TITLES = Object.values(BEAUTY_SERVICES)
    .flatMap((subgroups) => Object.values(subgroups))
    .flat();

const BEAUTY_SERVICE_TITLES_SET = new Set(BEAUTY_SERVICE_TITLES);

export function isBeautyServiceTitle(title: string) {
    return BEAUTY_SERVICE_TITLES_SET.has(title.trim());
}

export interface BeautyServicePath {
    category: string;
    subcategory: string;
    title: string;
}

export function getBeautyServicePath(title: string): BeautyServicePath | null {
    const normalized = title.trim();
    for (const [category, subgroups] of Object.entries(BEAUTY_SERVICES)) {
        for (const [subcategory, services] of Object.entries(subgroups)) {
            if (services.includes(normalized)) {
                return { category, subcategory, title: normalized };
            }
        }
    }

    return null;
}
